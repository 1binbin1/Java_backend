# Redis——实战篇

## 1、短信登录

### 1.1、导入黑马点评项目

#### 1.1.1、导入SQL

#### 1.1.2、有关当前模型

#### 1.1.3、导入后端项目

#### 1.1.4、导入前端工程

#### 1.1.5、运行前端项目

### 1.2、基于Session实现登录流程

### 1.3、实现发送短信验证码功能

### 1.4、实现登录拦截功能

### 1.5、隐藏用户敏感信息

### 1.6、session共享问题

### 1.7、Redis代替session的业务流程

#### 1.7.1、设计key结构

#### 1.7.2、设计key的具体细节

#### 1.7.3、整体访问流程

### 1.8、基于Redis实现短信登录

### 1.9、解决状态登录刷新问题

#### 1.9.1、初始方案思路总结

#### 1.9.2、优化方案

#### 1.9.3、代码



## 2、商户查询缓存

### 2.1、什么是缓存

#### 2.1.1、为什么要使用缓存

#### 2.1.2、如何使用缓存

### 2.2、添加商户缓存

#### 2.2.1、缓存模型和思路

#### 2.2.2、代码如下

### 2.3、缓存更新策略

#### 2.3.1、数据库和缓存不一致解决方案

#### 2.3.2、数据库和缓存不一致采用什么方案

### 2.4、实现商铺和缓存与数据库双写一致

### 2.5、缓存穿透问题的解决思路

### 2.6、编写解决商品查询的缓存穿透问题

### 2.7、缓存雪崩问题及解决思路

### 2.8、缓存击穿问题及解决思路

### 2.9、利用互斥锁解决缓存击穿问题

### 2.10、利用逻辑过期解决缓存击穿问题

### 2.11、封装Redis工具类



## 3、优惠券秒杀

### 3.1、全局唯一ID

### 3.2、Redis实现全局唯一Id

### 3.3、添加优惠券

### 3.4、实现秒杀下单

### 3.5、库存超卖问题分析

### 3.6、优惠券秒杀一人一单

### 3.7、集群环境下的并发问题



## 4、分布式锁

### 4.1、基本原理和实现方式对比

### 4.2、Redis分布式锁的实现核心思路

### 4.3、时效内分布式锁版本

### 4.4、Redis分布式锁误删情况说明

### 4.5、解决Redis分布式锁误删问题

### 4.6、分布式锁的原子性问题

### 4.7、Lua脚本解决多条命令原子性问题

### 4.8、利用Java代码调用Luau脚本改造分布式锁



## 5、分布式锁-redission

### 5.1、分布式锁-redission功能介绍

### 5.2、分布式锁-redission快速入门

### 5.3、分布式锁-redission可重入锁原理

### 5.4、分布式锁-redission锁重试和WatchDog机制

### 5.5、分布式锁-redission锁的MutiLock原理



## 6、秒杀优化

### 6.1、秒杀优化-异步秒杀思路

### 6.2、秒杀优化-Redis完成秒杀资格判断

### 6.3、秒杀优化-基于阻塞队列实现秒杀优化



## 7、Redis消息队列

### 7.1、Redis消息队列-认识消息队列

### 7.2、Redis消息队列-基于List实现消息队列

### 7.3、Redis消息队列-基于PubSub的消息队列

### 7.4、Redis消息队列-基于Stream的消息队列

### 7.5、Redis消息队列-基于Stream的消息队列-消费者组

### 7.6、基于Redis的Stream结构作为消息队列，实现异步秒杀下单



## 8、达人探店

### 8.1、达人探店-发布探店笔记

### 8.2、达人探店-查看探店笔记

### 8.3、达人探店-点赞功能

### 8.4、达人探店-点赞排行榜



## 9、好友关注

### 9.1、好友关注-关注和取消关注

### 9.2、好友关注-共同关注

### 9.3、好友关注-Feed流实现方案

### 9.4、好友关注-推送到粉丝收件箱

### 9.5、好友关注-实现分页查询收邮箱



## 10、附近商店

### 10.1、附近商店-GEO数据结构的基本用法

### 10.2、附近商店-导入商铺数据到GEO

### 10.3、附近商店-实现附近商户功能



## 11、用户签到

### 11.1、用户签到-BitMap功能展示

### 11.2、用户签到-实现签到功能

### 11.3、用户签到-签到统计

### 11.4、补充-关于使用BitMap解决缓存穿透的方案



## 12、UV统计

### 12.1、UV统计-HyperLogLog

### 12.2、UV统计-测试百万数据的统计